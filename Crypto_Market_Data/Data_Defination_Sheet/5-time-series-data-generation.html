<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Time-Series Data Generation - SystemDocs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Crypto Market Data Aggregator</li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/feature_list.html"><strong aria-hidden="true">2.</strong> Features Overview </a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/1-blockchain-data-infrastructure.html"><strong aria-hidden="true">2.1.</strong> BLOCKCHAIN DATA INFRASTRUCTURE</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/2-centralized-exchange-cex-integration.html"><strong aria-hidden="true">2.2.</strong> CENTRALIZED EXCHANGE (CEX) INTEGRATION</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/3-decentralized-exchange-dex-integration.html"><strong aria-hidden="true">2.3.</strong> DECENTRALIZED EXCHANGE (DEX) INTEGRATION</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/4-price-aggregation--analytics-engine.html"><strong aria-hidden="true">2.4.</strong> PRICE AGGREGATION & ANALYTICS ENGINE</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/5-time-series-data-generation.html"><strong aria-hidden="true">2.5.</strong> TIME-SERIES DATA GENERATION</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/6-advanced-analytics-features.html"><strong aria-hidden="true">2.6.</strong> ADVANCED ANALYTICS FEATURES</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/7-user-authentication--authorization.html"><strong aria-hidden="true">2.7.</strong> USER AUTHENTICATION & AUTHORIZATION</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/8-api-key-management--authentication.html"><strong aria-hidden="true">2.8.</strong> API KEY MANAGEMENT & AUTHENTICATION</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/9-subscription--billing-management.html"><strong aria-hidden="true">2.9.</strong> SUBSCRIPTION & BILLING MANAGEMENT</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/10-rate-limiting--quota-management.html"><strong aria-hidden="true">2.10.</strong> RATE LIMITING & QUOTA MANAGEMENT</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/11-api--data-distribution.html"><strong aria-hidden="true">2.11.</strong> API & DATA DISTRIBUTION</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/12-real-time-data-streaming.html"><strong aria-hidden="true">2.12.</strong> REAL-TIME DATA STREAMING</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Feature_List/13-compliance--security.html"><strong aria-hidden="true">2.13.</strong> COMPLIANCE & SECURITY</a></li></ol></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/data_definition_sheet.html"><strong aria-hidden="true">3.</strong>  Data Definition Overview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/1-blockchain-data-infrastructure.html"><strong aria-hidden="true">3.1.</strong> Blockchain Data Infrastructure</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/2-centralized-exchange-cex-integration.html"><strong aria-hidden="true">3.2.</strong> Centralized Exchange (CEX) Integration</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/3-decentralized-exchange-dex-integration.html"><strong aria-hidden="true">3.3.</strong> Decentralized Exchange (DEX) Integration</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/4-price-aggregation--analytics-engine.html"><strong aria-hidden="true">3.4.</strong> Price Aggregation & Analytics Engine</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/5-time-series-data-generation.html" class="active"><strong aria-hidden="true">3.5.</strong> Time-Series Data Generation</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/6-advanced-analytics-features.html"><strong aria-hidden="true">3.6.</strong> Advanced Analytics Features</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/7-api-key-management--authentication.html"><strong aria-hidden="true">3.7.</strong> API Key Management & Authentication</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/12-subscription--billing-management.html"><strong aria-hidden="true">3.8.</strong> Subscription & Billing Management</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/8-rate-limiting--quota-management.html"><strong aria-hidden="true">3.9.</strong> Rate Limiting & Quota Management</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/9-api-data-distribution.html"><strong aria-hidden="true">3.10.</strong> API & Data Distribution</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/10-real-time-data-streamin.html"><strong aria-hidden="true">3.11.</strong> Real-Time Data Streaming</a></li><li class="chapter-item expanded "><a href="../../Crypto_Market_Data/Data_Defination_Sheet/11-compliance--security.html"><strong aria-hidden="true">3.12.</strong> Compliance & Security</a></li></ol></li><li class="chapter-item expanded "><a href="../../class_diagram.html"><strong aria-hidden="true">4.</strong> Class Diagram</a></li><li class="chapter-item expanded "><a href="../../er_diagram.html"><strong aria-hidden="true">5.</strong> ER Diagram</a></li><li class="chapter-item expanded "><a href="../../dfd.html"><strong aria-hidden="true">6.</strong> Data Flow Diagram (DFD)</a></li><li class="chapter-item expanded affix "><li class="part-title">RPC Node Provider Service</li><li class="chapter-item expanded "><a href="../../Introduction_rpc.html"><strong aria-hidden="true">7.</strong> RPC Node Provider Service</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SystemDocs</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="time-series-data-generation"><a class="header" href="#time-series-data-generation">Time-Series Data Generation</a></h1>
<h3 id="overview"><a class="header" href="#overview">Overview</a></h3>
<p>This document outlines the data models required to support the platform's Time-Series Data Generation engine. These structures are designed to store standardized OHLCV data, detailed volume analytics, and definitions for custom client aggregations. The models also include mechanisms for tracking data quality and the application of interpolation to ensure the integrity and completeness of all time-series data.</p>
<h3 id="relations-between-tables"><a class="header" href="#relations-between-tables">Relations between Tables</a></h3>
<ul>
<li><strong>Ohlcv table</strong>: The primary table for storing standardized candlestick data. It is populated by the time-series engine and serves as the foundation for most technical analysis. It includes a field to distinguish between real and interpolated data.</li>
<li><strong>AggregatedVolume table</strong>: This table provides a more granular view of trading volume, breaking it down by source (CEX market or DEX pool) and other dimensions. It supports detailed volume analysis that goes beyond the total volume in the Ohlcv table.</li>
<li><strong>CustomAggregationDefinition table</strong>: Belongs to a User (or an institutional client account). It stores the parameters for non-standard timeframes, allowing clients to save and reuse their custom aggregation rules.</li>
<li><strong>TimeSeriesLog table</strong>: An audit log that records significant events related to the time-series generation process, such as data quality validation failures or the application of interpolation algorithms.</li>
</ul>
<h3 id="ohlcv-revised"><a class="header" href="#ohlcv-revised">Ohlcv (Revised)</a></h3>
<p>Stores aggregated Open, High, Low, Close, and Volume (candlestick) data for a specific market, supporting TS-001. This is a revised version of the previously defined table.</p>
<div class="table-wrapper"><table><thead><tr><th>Field Name</th><th>Type</th><th>Required?</th><th>Format</th><th>Description</th></tr></thead><tbody>
<tr><td>market_id</td><td>UUID</td><td>Yes</td><td>UUID</td><td>Foreign key to the CEX Market or a similar identifier for a globally aggregated asset. Part of the composite primary key.</td></tr>
<tr><td>timeframe</td><td>String</td><td>Yes</td><td>e.g., &quot;1h&quot;, &quot;1d&quot;</td><td>The timeframe for the candle. Part of the composite primary key.</td></tr>
<tr><td>open_time</td><td>Timestamp</td><td>Yes</td><td>ISO 8601</td><td>The start time of the candle. Part of the composite primary key.</td></tr>
<tr><td>open_price</td><td>Decimal(36,18)</td><td>Yes</td><td>Numeric</td><td>The price at the start of the timeframe.</td></tr>
<tr><td>high_price</td><td>Decimal(36,18)</td><td>Yes</td><td>Numeric</td><td>The highest price during the timeframe.</td></tr>
<tr><td>low_price</td><td>Decimal(36,18)</td><td>Yes</td><td>Numeric</td><td>The lowest price during the timeframe.</td></tr>
<tr><td>close_price</td><td>Decimal(36,18)</td><td>Yes</td><td>Numeric</td><td>The price at the end of the timeframe.</td></tr>
<tr><td>volume</td><td>Decimal(36,18)</td><td>Yes</td><td>Numeric</td><td>The total volume traded during the timeframe.</td></tr>
<tr><td>data_source_type</td><td>Enum</td><td>Yes</td><td>REAL, INTERPOLATED</td><td>Indicates if the candle data is from real trades or filled by an interpolation algorithm (TS-008).</td></tr>
</tbody></table>
</div>
<h3 id="aggregatedvolume"><a class="header" href="#aggregatedvolume">AggregatedVolume</a></h3>
<p>Stores detailed volume breakdowns by source and time period, supporting the Volume Analysis feature (TS-003).</p>
<div class="table-wrapper"><table><thead><tr><th>Field Name</th><th>Type</th><th>Required?</th><th>Format</th><th>Description</th></tr></thead><tbody>
<tr><td>source_id</td><td>UUID</td><td>Yes</td><td>UUID</td><td>The ID of the source (e.g., CEX market_id or DEX pool_id). Part of the composite primary key.</td></tr>
<tr><td>source_type</td><td>Enum</td><td>Yes</td><td>CEX_MARKET, DEX_POOL</td><td>The type of the data source. Part of the composite primary key.</td></tr>
<tr><td>timeframe</td><td>String</td><td>Yes</td><td>e.g., &quot;1h&quot;, &quot;1d&quot;</td><td>The aggregation timeframe. Part of the composite primary key.</td></tr>
<tr><td>timestamp</td><td>Timestamp</td><td>Yes</td><td>ISO 8601</td><td>The start time of the aggregation window. Part of the composite primary key.</td></tr>
<tr><td>total_volume</td><td>Decimal(36,18)</td><td>Yes</td><td>Numeric</td><td>The total volume traded in quote currency.</td></tr>
<tr><td>buy_volume</td><td>Decimal(36,18)</td><td>No</td><td>Numeric</td><td>The portion of total volume attributed to buy-side trades.</td></tr>
<tr><td>sell_volume</td><td>Decimal(36,18)</td><td>No</td><td>Numeric</td><td>The portion of total volume attributed to sell-side trades.</td></tr>
<tr><td>trade_count</td><td>Integer</td><td>No</td><td>Numeric</td><td>The total number of trades during the period.</td></tr>
<tr><td>data_source_type</td><td>Enum</td><td>Yes</td><td>REAL, INTERPOLATED</td><td>Indicates if the volume data is from real trades or interpolated (TS-008).</td></tr>
</tbody></table>
</div>
<h3 id="customaggregationdefinition"><a class="header" href="#customaggregationdefinition">CustomAggregationDefinition</a></h3>
<p>Stores client-defined parameters for custom aggregation windows, supporting TS-002.</p>
<div class="table-wrapper"><table><thead><tr><th>Field Name</th><th>Type</th><th>Required?</th><th>Format</th><th>Description</th></tr></thead><tbody>
<tr><td>definition_id</td><td>UUID</td><td>Yes</td><td>UUID</td><td>Unique identifier for the custom definition.</td></tr>
<tr><td>user_id</td><td>UUID</td><td>Yes</td><td>UUID</td><td>Foreign key to the User or client account that owns this definition.</td></tr>
<tr><td>definition_name</td><td>String</td><td>Yes</td><td>Free text</td><td>A user-friendly name for the custom window (e.g., &quot;My Weekly Report Window&quot;).</td></tr>
<tr><td>window_seconds</td><td>Integer</td><td>Yes</td><td>Seconds</td><td>The size of the aggregation window in seconds.</td></tr>
<tr><td>aggregation_rules</td><td>JSON</td><td>No</td><td>JSON object</td><td>Advanced rules for the aggregation, such as custom filters or calculations.</td></tr>
<tr><td>created_at</td><td>Timestamp</td><td>Yes</td><td>ISO 8601</td><td>Timestamp when the definition was created.</td></tr>
</tbody></table>
</div>
<h3 id="timeserieslog"><a class="header" href="#timeserieslog">TimeSeriesLog</a></h3>
<p>An audit trail for events related to time-series data generation and quality control (TS-001, TS-008).</p>
<div class="table-wrapper"><table><thead><tr><th>Field Name</th><th>Type</th><th>Required?</th><th>Format</th><th>Description</th></tr></thead><tbody>
<tr><td>log_id</td><td>UUID</td><td>Yes</td><td>UUID</td><td>Unique identifier for the log entry.</td></tr>
<tr><td>event_type</td><td>Enum</td><td>Yes</td><td>INTERPOLATION_APPLIED, VALIDATION_FAIL</td><td>The type of event that occurred.</td></tr>
<tr><td>target_table</td><td>String</td><td>Yes</td><td>e.g., &quot;Ohlcv&quot;</td><td>The name of the table where the event occurred.</td></tr>
<tr><td>target_key</td><td>JSON</td><td>Yes</td><td>JSON object</td><td>A JSON representation of the primary key of the affected record.</td></tr>
<tr><td>details</td><td>JSON</td><td>No</td><td>JSON object</td><td>Additional details about the event, such as the interpolation method used or the reason for validation failure.</td></tr>
<tr><td>created_at</td><td>Timestamp</td><td>Yes</td><td>ISO 8601</td><td>The time the log entry was created.</td></tr>
</tbody></table>
</div>
<h3 id="relationships"><a class="header" href="#relationships">Relationships</a></h3>
<ul>
<li>Market [market_id (PK)] 1 =&gt; * Ohlcv [market_id (FK)]</li>
<li>The AggregatedVolume table has a conceptual polymorphic link to the CEX Market and DEX LiquidityPool tables via its source_id and source_type fields.</li>
<li>User [user_id (PK)] 1 =&gt; * CustomAggregationDefinition [definition_id (PK), user_id (FK)]</li>
</ul>
<h3 id="entities--relationships"><a class="header" href="#entities--relationships">Entities &amp; Relationships</a></h3>
<ul>
<li><strong>Ohlcv</strong>
<ul>
<li>market_id (PK, FK)</li>
<li>timeframe (PK)</li>
<li>open_time (PK)</li>
</ul>
</li>
<li><strong>AggregatedVolume</strong>
<ul>
<li>source_id (PK)</li>
<li>source_type (PK)</li>
<li>timeframe (PK)</li>
<li>timestamp (PK)</li>
</ul>
</li>
<li><strong>CustomAggregationDefinition</strong>
<ul>
<li>definition_id (PK)</li>
<li>user_id (FK â†’ User.user_id)</li>
</ul>
</li>
<li><strong>TimeSeriesLog</strong>
<ul>
<li>log_id (PK)</li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../Crypto_Market_Data/Data_Defination_Sheet/4-price-aggregation--analytics-engine.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../Crypto_Market_Data/Data_Defination_Sheet/6-advanced-analytics-features.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../Crypto_Market_Data/Data_Defination_Sheet/4-price-aggregation--analytics-engine.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../Crypto_Market_Data/Data_Defination_Sheet/6-advanced-analytics-features.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
